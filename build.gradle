buildscript {
  repositories {
    mavenCentral()
    jcenter()
  }
  dependencies {
    classpath 'ru.vyarus:gradle-animalsniffer-plugin:1.5.1'
  }
}

repositories {
  mavenCentral()
}

ext.junitPlatformVersion = '1.6.2'
ext.junitJupiterVersion = '5.6.2'

apply plugin: 'java'
apply plugin: 'ru.vyarus.animalsniffer'

archivesBaseName = 'duly-noted'

jar {
   version = '0.1-SNAPSHOT'
}

compileTestJava {
  sourceCompatibility = 11
  targetCompatibility = 11
}

test {
  useJUnitPlatform {
    systemProperty 'java.util.logging.manager', 'java.util.logging.LogManager'
  }
}

dependencies {
  testCompile("org.hamcrest:hamcrest:2.2")
  testCompile("org.junit.jupiter:junit-jupiter-api:${junitJupiterVersion}")
  testRuntime("org.junit.jupiter:junit-jupiter-engine:${junitJupiterVersion}")
  testCompile("io.leangen.geantyref:geantyref:1.3.11")
  testCompile("org.springframework:spring-core:5.3.3")

  // To avoid compiler warnings about @API annotations in JUnit code
  testCompileOnly('org.apiguardian:apiguardian-api:1.1.1')
}
